<div class="container">
  <form class="form-container" (ngSubmit)="onSubmit()" #registerForm="ngForm">
    <div class="title">Реєстрація</div>

    <p-inputGroup>
      <span class="p-inputgroup-addon">
        <i class="pi pi-envelope"></i>
      </span>
      <input
        pInputText
        type="email"
        placeholder="Пошта"
        [(ngModel)]="email"
        name="email"
        required
        email
        #emailModel="ngModel"
      />
    </p-inputGroup>

    <div *ngIf="emailModel.invalid && emailModel.touched">
      <small *ngIf="emailModel.errors?.['required']" class="p-error">Пошта не може бути пустою!</small>
      <small *ngIf="emailModel.errors?.['email']" class="p-error">Введіть коректну пошту!</small>
    </div>

    <p-inputGroup class="mt-3">
      <span class="p-inputgroup-addon">
        <i class="pi pi-lock"></i>
      </span>
      <input
        pInputText
        type="password"
        placeholder="Пароль"
        [(ngModel)]="password"
        name="password"
        required
        [minlength]="6"
        #passwordModel="ngModel"
      />
    </p-inputGroup>

    <div *ngIf="passwordModel.invalid && passwordModel.touched">
      <small *ngIf="passwordModel.errors?.['required']" class="p-error">Пароль не може бути пустим!</small>
      <small *ngIf="passwordModel.errors?.['minlength']" class="p-error">Пароль повинен бути не менше 6
        символів!</small>
    </div>

    <p-inputGroup class="mt-3">
      <span class="p-inputgroup-addon">
        <i class="pi pi-user"></i>
      </span>
      <input
        pInputText
        type="text"
        placeholder="ПІБ"
        [(ngModel)]="fullName"
        name="fullName"
        required
        [minlength]="3"
        #nameModel="ngModel"
      />
    </p-inputGroup>

    <div *ngIf="nameModel.invalid && nameModel.touched">
      <small *ngIf="nameModel.errors?.['required']" class="p-error">ПІБ не може бути пустим!</small>
      <small *ngIf="nameModel.errors?.['minlength']" class="p-error">ПІБ повинне бути не менше 3 символів!</small>
    </div>

    <p-dropdown
      autoWidth="false"
      [style]="{'width':'100%'}"
      class="mt-3 full-width-dropdown"
      [options]="groups"
      [(ngModel)]="group"
      name="group"
      placeholder="Група"
      filter
      filterPlaceholder="Пошук..."
      emptyFilterMessage="Нічого не знайдено!"
      optionLabel="title"
      optionValue="id"
      required
      #groupModel="ngModel"
    ></p-dropdown>

    <div *ngIf="groupModel.invalid && groupModel.touched">
      <small *ngIf="groupModel.errors?.['required']" class="p-error">Група не може бути пустою!</small>
    </div>

    <button
      pButton
      type="submit"
      label="Реєстрація"
      class="mt-3"
      [disabled]="!registerForm.form.valid"
    ></button>
  </form>
</div>
